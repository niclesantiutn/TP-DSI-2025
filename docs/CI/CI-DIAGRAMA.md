# ๐ Flujo Visual de la Integraciรณn Continua

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   DESARROLLADOR (Tu mรกquina)                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โ 1. git push origin feature/mi-rama
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         GITHUB                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ     Se detecta nuevo push o Pull Request               โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โ 2. Activa GitHub Actions
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    GITHUB ACTIONS (Runner)                       โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  PASO 1: Checkout del cรณdigo                            โ   โ
โ  โ  โ Descarga tu cรณdigo del repositorio                   โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                           โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  PASO 2: Configurar JDK 21                              โ   โ
โ  โ  โ Instala Java 21 (Temurin)                            โ   โ
โ  โ  โ Configura cachรฉ de Maven                             โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                           โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  PASO 3: Levantar PostgreSQL                            โ   โ
โ  โ  โ Crea contenedor con PostgreSQL 16                    โ   โ
โ  โ  โ Base de datos: hotel_premier_test                    โ   โ
โ  โ  โ Verifica que estรฉ lista (health check)               โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                           โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  PASO 4: Ejecutar Tests con Maven                       โ   โ
โ  โ  โ cd hotel-premier                                      โ   โ
โ  โ  โ ./mvnw clean test                                     โ   โ
โ  โ  โ Conecta a PostgreSQL                                  โ   โ
โ  โ  โ Ejecuta todos los tests                               โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                           โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  PASO 5: Generar Reportes                               โ   โ
โ  โ  โ Reporte de resultados (JUnit XML)                    โ   โ
โ  โ  โ Sube artefactos (logs de tests)                      โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                           โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ          RESULTADO FINAL                                 โ   โ
โ  โ  โ SUCCESS: Todos los tests pasaron                    โ   โ
โ  โ  โ FAILURE: Algรบn test fallรณ                           โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โ 3. Notifica resultado
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    PULL REQUEST / COMMIT                         โ
โ                                                                  โ
โ  โ All checks have passed                                      โ
โ     โข CI - Tests Automรกticos  โ                                 โ
โ                                                                  โ
โ  O                                                               โ
โ                                                                  โ
โ  โ Some checks failed                                          โ
โ     โข CI - Tests Automรกticos  โ                                 โ
โ       โ Ver detalles del error                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ฏ Archivos Creados para el CI

```
TP-DSI-2025/
โโโ .github/
โ   โโโ workflows/
โ       โโโ ci.yml                          # โญ Workflow principal de GitHub Actions
โโโ docs/
โ   โโโ CI-README.md                        # ๐ Documentaciรณn detallada del CI
โโโ hotel-premier/
โ   โโโ src/
โ       โโโ test/
โ           โโโ resources/
โ               โโโ application.yml         # โ๏ธ Configuraciรณn para tests
โโโ README.md                               # ๐ Actualizado con info de CI
```

## ๐ง Tecnologรญas y Herramientas del CI

| Componente | Versiรณn | Propรณsito |
|------------|---------|-----------|
| **GitHub Actions** | - | Plataforma de CI/CD |
| **Ubuntu Latest** | 22.04 | Sistema operativo del runner |
| **PostgreSQL** | 16-alpine | Base de datos para tests |
| **Java (Temurin)** | 21 | JDK para compilar y ejecutar |
| **Maven** | 3.9.x | Gestiรณn de dependencias y tests |
| **Maven Wrapper** | incluido | Ejecuta Maven sin instalaciรณn previa |

## ๐ Variables de Entorno en CI

Durante la ejecuciรณn de tests, se configuran estas variables:

```yaml
SPRING_DATASOURCE_URL: jdbc:postgresql://localhost:5432/hotel_premier_test
SPRING_DATASOURCE_USERNAME: hotel_user
SPRING_DATASOURCE_PASSWORD: hotel_password
SPRING_JPA_HIBERNATE_DDL_AUTO: create-drop
```

Esto asegura que:
- Los tests usen PostgreSQL (igual que producciรณn)
- Cada ejecuciรณn tenga una BD limpia
- No interfiera con tu entorno local
